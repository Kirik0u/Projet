<!DOCTYPE html>
<html>
	<head>
		<title>Projet Snake Multijoueur</title>
		<script type="text/javascript" src="./paper-full.min.js"></script>
		<script type="text/paperscript" canvas="myCanvas">
			var diametreBalle = 20;
			var posX = Point.random()*view.size;
			var posY = Point.random()*view.size;
			var count = 5;
			
			var myPoint = new Point(posX, posY);
			var myPath = new Path.Circle({
				center: myPoint,
				radius: diametreBalle/2,
				fillColor: 'white'
			});

			/*var symbol = new Symbol(myPath);

			// Place the instances of the symbol:
			for (var i = 0; i < count; i++) {
				var center = new Point((posX-i*diametreBalle/2), (posY-i*diametreBalle/2));
				var placedSymbol = symbol.place(center);
			}*/

			var destination = myPoint;

			var pPath;
			function onMouseUp(event) {
				pPath = new Path();

				// Add the mouse down position:
				pPath.add(event.downPoint);

				destination = pPath.position;
			}

			function onFrame(event) {
				var vector = destination - myPath.position;
				myPath.position += vector / 70;

				/*for (var i = 0; i < count; i++) {
					var item = project.activeLayer.children[i];
		
					item.position += destination - myPath.position / 70;
					

					// If the item has left the view on the right, move it back
					// to the left:
					if (item.bounds.left > view.size.width) {
						item.position.x = 0+diametreBalle/2;
					}
				}*/
				
			}
		</script>
	</head>
	<body>
		<script src="/socket.io/socket.io.js"></script>
		<script>
			var socket = io.connect('https://localhost:8000');
			var pseudo = prompt('Quel est votre pseudo ?');

            		socket.emit('nouveau_client', pseudo);
			socket.on('message', function(message) {
				alert(message);
		 	})
					
		</script>
		<canvas id="myCanvas" width="1280" height="555" style="background-color:black" resize></canvas>
	</body>
</html>
