<!DOCTYPE html>
<html>
        <head>
                <title>Projet Snake Multijoueur</title>
		<script type="text/javascript" src="./paper-full.min.js"></script>
		<script type="text/paperscript" canvas="myCanvas">
			var diametreBalle = 20;
			var count = 7;
			var posXTete = Point.random()*view.size;
			var posYTete = Point.random()*view.size;
			var posX = [];
			var posY = [];
			var myPath = [];

			for(var i=0; i<=count; i++){
				posX[i]=posXTete-i*diametreBalle/2;
				posY[i]=posYTete-i*diametreBalle/2;

 				var myPoint = new Point(posX[i], posY[i]);
 				myPath[i] = new Path.Circle({
 					center: myPoint,
 					radius: diametreBalle/2,
 					fillColor: 'white'
 				});
 			}

			var destination = myPoint;

			var pPath;
			function onMouseDown(event) {
				pPath = new Path();
				// Add the mouse down position:
				pPath.add(event.downPoint);

				destination = pPath.position;
			}

			function onFrame(event) {
				var vector = destination - myPath[0].position;
				for(i=count; i>0; i--){
					myPath[i].position = myPath[i-1].position;
				}
				myPath[0].position += vector / 70;
			}
		</script>
	</head>
	<body>
		<script src="/socket.io/socket.io.js"></script>
		<script>
			var socket = io.connect('https://localhost:8000');
			var pseudo = prompt('Quel est votre pseudo ?');

            		socket.emit('nouveau_client', pseudo);
			socket.on('message', function(message) {
				alert(message);
		 	})
					
		</script>
		<canvas id="myCanvas" width="1280" height="555" style="background-color:black" resize></canvas>
	</body>
</html>
