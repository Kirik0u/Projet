<!DOCTYPE html>
<html>
        <head>
                <title>Projet Snake Multijoueur</title>
		<script type="text/javascript" src="./paper-full.min.js"></script>
		<script type="text/paperscript" canvas="myCanvas">
			// The amount of points in the path:
			var points = 25;

			// The distance between the points:
			var length = 5;

			var path = new Path({
				strokeColor: 'white',
				strokeWidth: 20,
				strokeCap: 'round'
			});

			var start = view.center / [10, 1];
			for (var i = 0; i < points; i++){
				path.add(start + new Point(i * length, 0));
			}
			
			function onMouseDown(event) {
				pPath = new Path();

				// Add the mouse down position:
				pPath.add(event.downPoint);

				destination = pPath.position;
				
				path.firstSegment.point = event.point;
				for (var i = 0; i < points - 1; i++) {
					var segment = path.segments[i];
					var nextSegment = segment.next;
					var vector = segment.point - nextSegment.point;
					vector.length = length;
					nextSegment.point = segment.point - vector;
				}
				path.smooth();
			}

			function onFrame(event){
				
			}
		</script>
	</head>
	<body>
		<script src="/socket.io/socket.io.js"></script>
		<script>
			var socket = io.connect('https://localhost:8000');
			var pseudo = prompt('Quel est votre pseudo ?');

            		socket.emit('nouveau_client', pseudo);
			socket.on('message', function(message) {
				alert(message);
		 	})
					
		</script>
		<canvas id="myCanvas" width="1280" height="555" style="background-color:black" resize></canvas>
	</body>
</html>
